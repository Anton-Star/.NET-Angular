
<div class="modal-header">
    <h3 class="modal-title">Document Library</h3>
</div>
<div class="modal-body">
    <div class="form-group">
        <div id="library" class="searchResults"
             kendo-grid="grid"
             k-options="vm.gridOptions" />
    </div>
    <form name="documentLibrary" class="sky-form">
        <fieldset>
            <section>
                <div class="form-group">
                    <label class="label">Add New File</label>
                    <label class="input">
                        <i class="icon-append fa fa-lock"></i>
                        <input type="file" multi-file-model="vm.files" multiple/>
                    </label>
                </div>
            </section>
            <section>
                <div class="form-group">
                    <div class="row">
                        <div class="col-md-4">File Name</div>
                        <div class="col-md-3">File</div>
                        <div class="col-md-5">New Version of:</div>
                    </div>
                    <div class="row file-row" ng-repeat="file in vm.allFiles">
                        <div class="col-md-4">
                            <input type="text" ng-model="file.fileName" />
                        </div>
                        <div class="col-md-3">{{file.file.name}}</div>
                        <div class="col-md-5">
                            <input kendo-combo-box ng-model="file.replacementOf"
                                   k-data-source="vm.docs" k-data-text-field="'name'"
                                   k-data-value-field="'id'" k-filter="'contains'"
                                   style="width: 100%;" />
                        </div>
                    </div>
                    <!--<label class="label">File Name</label>-->
                    <!--<label class="input">
                        <i class="icon-append fa fa-lock"></i>
                        <input type="text" ng-model="vm.files.name"/>
                    </label>-->
                    <!--<p ng-repeat="file in vm.files">
                        {{file.name}}
                    </p>-->
                </div>
            </section>
            <section ng-if="vm.common.isFact()">
                <div class="form-group">
                    <label class="checkbox">
                        <input type="checkbox" ng-model="vm.factOnly">FACT Only
                        <i></i>
                    </label>
                </div>
            </section>
            <section>
                <button class="btn btn-base btn-icon btn-icon-right fa fa-search search pull-right" type="submit" ng-click="vm.addMulitpleFiles()" ng-disabled="vm.allFiles.length == 0" ng-class="{'disabled': vm.files.length==0}">
                    <span>Upload to Library</span>
                </button>
                <!--<button class="btn btn-base btn-icon btn-icon-right fa fa-search search pull-right" type="submit" ng-click="vm.add()" ng-disabled="vm.isBusy || vm.file == null || vm.file == '' || vm.fileName == '' || vm.isReadOnly == true">
                    <span>Add</span>
                </button>-->
            </section>
        </fieldset>
    </form>
</div>

<div class="modal-footer">
    <button class="btn btn-primary" type="button" ng-click="vm.ok()" ng-disabled="vm.isDisabled()">Attach Selected Document</button>
    <button class="btn btn-warning" type="button" ng-click="vm.cancel()">Cancel</button>
</div>

<script type="text/x-kendo-template" id="latestV">
    bhhh<span>{{dataItem.isLatestVersion ? 'X' : ''}}</span>
</script>

